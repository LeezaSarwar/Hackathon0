# FIX 400 ERROR - SIMPLE STEPS

## Problem: 400 Error during Gmail authentication

## Solution: Configure OAuth Consent Screen

### STEP 1: Open OAuth Consent Screen
Copy this link and paste in browser:
https://console.cloud.google.com/apis/credentials/consent?project=gmail-api-system-487610

### STEP 2: Configure App (if not already done)

Look at the page:
- If you see "EDIT APP" button, click it
- If you see "CREATE" button, click it

### STEP 3: Fill the Form

**OAuth consent screen page:**
- User Type: External (should already be selected)
- Click "CREATE" or continue

**App information:**
- App name: AI Employee Gmail Watcher
- User support email: leezasarwar0@gmail.com (select from dropdown)
- Developer contact email: leezasarwar0@gmail.com
- Click "SAVE AND CONTINUE"

**Scopes page:**
- Click "ADD OR REMOVE SCOPES" button
- In the search box, type: gmail.readonly
- Find and CHECK this scope:
  â˜‘ https://www.googleapis.com/auth/gmail.readonly
- Click "UPDATE" button at bottom
- Click "SAVE AND CONTINUE"

**Test users page (CRITICAL!):**
- Click "ADD USERS" button
- Enter: leezasarwar0@gmail.com
- Click "ADD"
- Click "SAVE AND CONTINUE"

**Summary page:**
- Review everything
- Click "BACK TO DASHBOARD"

### STEP 4: Enable Gmail API
Copy this link and paste in browser:
https://console.cloud.google.com/apis/library/gmail.googleapis.com?project=gmail-api-system-487610

- Click "ENABLE" button (if not already enabled)
- Wait for it to enable

### STEP 5: Run Watcher Again

After completing above steps, run:
```
cd "D:\LEEZA\HACKATHON 0\silver"
.\START_GMAIL_WATCHER.bat
```

Browser will open, login with: leezasarwar0@gmail.com
Click "Allow" and watcher will start!

---

## Quick Checklist:
- [ ] OAuth consent screen configured
- [ ] App name set
- [ ] Gmail.readonly scope added
- [ ] leezasarwar0@gmail.com added as test user
- [ ] Gmail API enabled
- [ ] Watcher started
- [ ] Browser authentication completed

---

## If Still Getting 400 Error:

1. Wait 2-3 minutes after configuring (Google needs time to update)
2. Delete token file if exists:
   ```
   del "D:\LEEZA\HACKATHON 0\silver\AI_Employee_Vault\gmail_token.pickle"
   ```
3. Try watcher again
